{"$message_type":"diagnostic","message":"unused variable: `peripherals`","code":{"code":"unused_variables","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":144,"byte_end":155,"line_start":13,"line_end":13,"column_start":9,"column_end":20,"is_primary":true,"text":[{"text":"    let peripherals = stm32::Peripherals::take().unwrap();","highlight_start":9,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_variables)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"if this is intentional, prefix it with an underscore","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":144,"byte_end":155,"line_start":13,"line_end":13,"column_start":9,"column_end":20,"is_primary":true,"text":[{"text":"    let peripherals = stm32::Peripherals::take().unwrap();","highlight_start":9,"highlight_end":20}],"label":null,"suggested_replacement":"_peripherals","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused variable: `peripherals`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:13:9\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m13\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    let peripherals = stm32::Peripherals::take().unwrap();\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33mhelp: if this is intentional, prefix it with an underscore: `_peripherals`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(unused_variables)]` on by default\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"linking with `rust-lld` failed: exit status: 1","code":null,"level":"error","spans":[],"children":[{"message":"LC_ALL=\"C\" PATH=\"/Users/daniel/.rustup/toolchains/stable-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/go/bin:/Users/daniel/.cargo/bin\" VSLANG=\"1033\" \"rust-lld\" \"-flavor\" \"gnu\" \"/var/folders/xk/my2g97dn0h5gp5t97t61r7c00000gn/T/rustcsiY5r1/symbols.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.0r1ixfu2qhjhadlygf5pe799w.rcgu.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.3hmcw4j7rao9hnxd89b4ybp3a.rcgu.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.4d85ktgwdan75y5hct77yv5in.rcgu.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.8z7rwe4qnv049r78e3hzpxtmj.rcgu.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.cse91bcodyz76mjvrtn6lpl23.rcgu.o\" \"--as-needed\" \"-Bstatic\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libstm32h5-cae01585c5d664fe.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libcritical_section-e9e46b38ba311bad.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libcortex_m-e0cefc654efe5923.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libembedded_hal-61068c6c17b43f1a.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libvoid-dccfc2ebd9ecc8de.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libnb-98db6712ff6f558a.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libnb-cd0afcbb684ce1a1.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libbitfield-694c309186caf2ac.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libvolatile_register-0778c97ff79e491e.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libvcell-6e1268f28e1f012d.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libbare_metal-3506a85e1732b791.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libcortex_m_rt-92f5bb5418bbb153.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libpanic_halt-19fd1f52f6d9bef5.rlib\" \"/Users/daniel/.rustup/toolchains/stable-x86_64-apple-darwin/lib/rustlib/thumbv8m.main-none-eabihf/lib/librustc_std_workspace_core-87a59c10d1cf423e.rlib\" \"/Users/daniel/.rustup/toolchains/stable-x86_64-apple-darwin/lib/rustlib/thumbv8m.main-none-eabihf/lib/libcore-e9f834b49dddcdf3.rlib\" \"/Users/daniel/.rustup/toolchains/stable-x86_64-apple-darwin/lib/rustlib/thumbv8m.main-none-eabihf/lib/libcompiler_builtins-d98dcd42a23d6c40.rlib\" \"-Bdynamic\" \"--eh-frame-hdr\" \"-z\" \"noexecstack\" \"-L\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/build/cortex-m-0d8aa7905a7a0f98/out\" \"-L\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/build/cortex-m-rt-782d6384e7b4460e/out\" \"-L\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/build/stm32h5-eb6d54a395edc8e0/out\" \"-o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1\" \"--gc-sections\" \"-Tlink.x\"","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"rust-lld: error: undefined symbol: _critical_section_1_0_acquire\n>>> referenced by lib.rs:202 (/Users/daniel/.cargo/registry/src/index.crates.io-6f17d22bba15001f/critical-section-1.2.0/src/lib.rs:202)\n>>>               /Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.cse91bcodyz76mjvrtn6lpl23.rcgu.o:(critical_section::with::h6cdc7e4e12c0f726)\n\nrust-lld: error: undefined symbol: _critical_section_1_0_release\n>>> referenced by lib.rs:219 (/Users/daniel/.cargo/registry/src/index.crates.io-6f17d22bba15001f/critical-section-1.2.0/src/lib.rs:219)\n>>>               /Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.0r1ixfu2qhjhadlygf5pe799w.rcgu.o:(core::ptr::drop_in_place$LT$critical_section..with..Guard$GT$::h1c16108abfa3e227)\n","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: linking with `rust-lld` failed: exit status: 1\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: LC_ALL=\"C\" PATH=\"/Users/daniel/.rustup/toolchains/stable-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/go/bin:/Users/daniel/.cargo/bin\" VSLANG=\"1033\" \"rust-lld\" \"-flavor\" \"gnu\" \"/var/folders/xk/my2g97dn0h5gp5t97t61r7c00000gn/T/rustcsiY5r1/symbols.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.0r1ixfu2qhjhadlygf5pe799w.rcgu.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.3hmcw4j7rao9hnxd89b4ybp3a.rcgu.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.4d85ktgwdan75y5hct77yv5in.rcgu.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.8z7rwe4qnv049r78e3hzpxtmj.rcgu.o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.cse91bcodyz76mjvrtn6lpl23.rcgu.o\" \"--as-needed\" \"-Bstatic\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libstm32h5-cae01585c5d664fe.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libcritical_section-e9e46b38ba311bad.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libcortex_m-e0cefc654efe5923.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libembedded_hal-61068c6c17b43f1a.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libvoid-dccfc2ebd9ecc8de.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libnb-98db6712ff6f558a.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libnb-cd0afcbb684ce1a1.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libbitfield-694c309186caf2ac.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libvolatile_register-0778c97ff79e491e.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libvcell-6e1268f28e1f012d.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libbare_metal-3506a85e1732b791.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libcortex_m_rt-92f5bb5418bbb153.rlib\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/libpanic_halt-19fd1f52f6d9bef5.rlib\" \"/Users/daniel/.rustup/toolchains/stable-x86_64-apple-darwin/lib/rustlib/thumbv8m.main-none-eabihf/lib/librustc_std_workspace_core-87a59c10d1cf423e.rlib\" \"/Users/daniel/.rustup/toolchains/stable-x86_64-apple-darwin/lib/rustlib/thumbv8m.main-none-eabihf/lib/libcore-e9f834b49dddcdf3.rlib\" \"/Users/daniel/.rustup/toolchains/stable-x86_64-apple-darwin/lib/rustlib/thumbv8m.main-none-eabihf/lib/libcompiler_builtins-d98dcd42a23d6c40.rlib\" \"-Bdynamic\" \"--eh-frame-hdr\" \"-z\" \"noexecstack\" \"-L\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/build/cortex-m-0d8aa7905a7a0f98/out\" \"-L\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/build/cortex-m-rt-782d6384e7b4460e/out\" \"-L\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/build/stm32h5-eb6d54a395edc8e0/out\" \"-o\" \"/Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1\" \"--gc-sections\" \"-Tlink.x\"\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: rust-lld: error: undefined symbol: _critical_section_1_0_acquire\u001b[0m\n\u001b[0m          >>> referenced by lib.rs:202 (/Users/daniel/.cargo/registry/src/index.crates.io-6f17d22bba15001f/critical-section-1.2.0/src/lib.rs:202)\u001b[0m\n\u001b[0m          >>>               /Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.cse91bcodyz76mjvrtn6lpl23.rcgu.o:(critical_section::with::h6cdc7e4e12c0f726)\u001b[0m\n\u001b[0m          \u001b[0m\n\u001b[0m          rust-lld: error: undefined symbol: _critical_section_1_0_release\u001b[0m\n\u001b[0m          >>> referenced by lib.rs:219 (/Users/daniel/.cargo/registry/src/index.crates.io-6f17d22bba15001f/critical-section-1.2.0/src/lib.rs:219)\u001b[0m\n\u001b[0m          >>>               /Users/daniel/IdeaProjects/stm32h562xx/target/thumbv8m.main-none-eabihf/debug/deps/stm32h562xx-3021b4631cefd3d1.0r1ixfu2qhjhadlygf5pe799w.rcgu.o:(core::ptr::drop_in_place$LT$critical_section..with..Guard$GT$::h1c16108abfa3e227)\u001b[0m\n\u001b[0m          \u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 1 previous error; 1 warning emitted","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to 1 previous error; 1 warning emitted\u001b[0m\n\n"}
